/* ============================================================================
   CCA Senior Navigator – Full CSS
   One file to make things not ugly.
   Place in: static/style.css
   ========================================================================== */

/* ---------- Root tokens ---------- */
:root{
  --bg: #ffffff;
  --text: #111827;               /* near-black */
  --muted: #6b7280;              /* slate-500 */
  --border: #e5e7eb;             /* gray-200 */
  --divider: #f3f4f6;            /* gray-100 */
  --accent: #0ea5e9;             /* sky-500 */
  --accent-600:#0284c7;          /* sky-600 */
  --accent-700:#0369a1;          /* sky-700 */
  --success: #16a34a;
  --warn: #ca8a04;
  --danger: #dc2626;

  --btn-bg: #111827;             /* black button */
  --btn-text: #ffffff;
  --btn-bg-hover: #0f172a;       /* slate-900 */

  --pill-bg: #f3f4f6;            /* light gray pill */
  --pill-text: #111827;          /* pill text */
  --pill-brd: #e5e7eb;           /* pill border */
  --pill-selected: #111827;      /* black pill selected */
  --pill-selected-text: #ffffff; /* white text */
  --pill-hover: #e9eaec;
  --pill-radius: 10px;
  --pill-pad-y: 10px;
  --pill-pad-x: 14px;
  --pill-gap: 8px;

  --card-bg: #ffffff;
  --card-brd: #e5e7eb;
  --card-radius: 14px;
  --card-shadow: 0 1px 2px rgba(0,0,0,0.04);

  --ring: 0 0 0 3px rgba(17,24,39,.18);
}

/* ---------- Global reset-ish ---------- */
html, body, [data-testid="stAppViewContainer"]{
  background: var(--bg) !important;
  color: var(--text) !important;
}

*{ box-sizing: border-box; }

/* Centered layout refinements */
.block-container{
  padding-top: 2.2rem !important;
  padding-bottom: 2.5rem !important;
  max-width: 900px !important;
}

/* ---------- Typography ---------- */
h1, h2, h3, h4{
  letter-spacing: -0.01em;
  color: var(--text) !important;
}
h1{ font-size: 1.875rem !important; font-weight: 700 !important; }
h2{ font-size: 1.5rem !important; font-weight: 700 !important; }
h3{ font-size: 1.25rem !important; font-weight: 600 !important; }
p, .stMarkdown{
  color: var(--text) !important;
}
small, .caption, .stCaption, [data-testid="stCaptionContainer"]{
  color: var(--muted) !important;
}

/* ---------- Dividers ---------- */
hr, .stMarkdown hr, .stHorizontalBlock{
  border-color: var(--divider) !important;
}

/* ---------- Buttons (primary & quiet) ---------- */
.stButton > button{
  background: var(--btn-bg) !important;
  color: var(--btn-text) !important;
  border: 1px solid #0b1220 !important;
  border-radius: 10px !important;
  padding: 10px 16px !important;
  font-weight: 600 !important;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  transition: background .15s ease, transform .02s ease;
}
.stButton > button:hover{
  background: var(--btn-bg-hover) !important;
}
.stButton > button:active{
  transform: translateY(1px);
}
.stButton > button[kind="secondary"]{
  background: #f8fafc !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Secondary “quiet” links that still look intentional */
a.button-link, .button-link{
  display: inline-flex; align-items: center; gap: 8px;
  background: #f8fafc; color: var(--text);
  border: 1px solid var(--border); border-radius: 10px;
  padding: 10px 14px; text-decoration: none;
  font-weight: 600;
}
a.button-link:hover{ background: #eff2f6; }

/* ---------- Cards / Tiles ---------- */
.card, .tile, .module-tile, .stContainer{
  background: var(--card-bg);
  border: 1px solid var(--card-brd);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
}

/* Use Streamlit containers with border=True nicely */
[data-testid="stVerticalBlock"] > div:has(> [data-testid="stContainer"]) {
  margin-bottom: 14px;
}

/* ---------- Grid helpers ---------- */
.hub-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
@media (min-width: 820px){
  .hub-grid{
    grid-template-columns: 1fr 1fr;
  }
}
.tile-body{ padding: 18px; }
.tile-actions{ margin-top: 10px; display: flex; gap: 10px; align-items: center; }

/* Status pills */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  padding: 6px 10px; border-radius: 999px;
  font-size: .85rem; font-weight: 600;
  border: 1px solid var(--border);
  background: #f8fafc; color: var(--text);
}
.badge.success{ border-color: #22c55e33; background: #f0fdf4; color: #166534; }
.badge.info{ border-color: #0ea5e933; background: #f0f9ff; color: #075985; }

/* ---------- Forms ---------- */
input, textarea, select{
  border-radius: 10px !important;
  border: 1px solid var(--border) !important;
}
input:focus, textarea:focus, select:focus{
  outline: none !important; box-shadow: var(--ring) !important;
}

/* ---------- Sidebar polish + Login stub ---------- */
[data-testid="stSidebar"]{
  background: #ffffff !important;
  border-right: 1px solid var(--divider) !important;
}
.sidebar-footer{
  margin-top: 16px; padding-top: 12px; border-top: 1px dashed var(--border);
  display: grid; gap: 8px;
}
.sidebar-auth{
  display:flex; align-items:center; justify-content:space-between;
  font-size:.9rem; color: var(--muted);
}

/* ---------- Alerts (no emoji requirement) ---------- */
[data-testid="stAlert"]{
  border-radius: 12px !important;
  border: 1px solid var(--border) !important;
}
[data-testid="stAlert"][class*="success"]{
  border-color:#22c55e33 !important; background:#f0fdf4 !important; color:#166534 !important;
}
[data-testid="stAlert"][class*="warning"]{
  border-color:#f59e0b33 !important; background:#fffbeb !important; color:#92400e !important;
}
[data-testid="stAlert"][class*="info"]{
  border-color:#0ea5e933 !important; background:#f0f9ff !important; color:#075985 !important;
}

/* ============================================================================
   PILL CONTROLS: st.radio + st.segmented_control
   Gray by default; Black when selected. No red circus.
   ========================================================================== */

/* Group layout for radios */
[data-testid="stRadio"] [role="radiogroup"]{
  display: flex !important;
  flex-wrap: wrap !important;
  gap: var(--pill-gap) !important;
}

/* Hide native radio inputs */
[data-testid="stRadio"] input[type="radio"]{
  position:absolute !important; opacity:0 !important; pointer-events:none !important;
}

/* Streamlit radios render as <label>… or <div role="radio">…; style both */
[data-testid="stRadio"] [role="radiogroup"] > label,
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"]{
  display:inline-flex !important; align-items:center !important; justify-content:center !important;
  padding: var(--pill-pad-y) var(--pill-pad-x) !important;
  border-radius: var(--pill-radius) !important;
  background: var(--pill-bg) !important;
  color: var(--pill-text) !important;
  border: 1.5px solid var(--pill-brd) !important;
  box-shadow: 0 1px 0 rgba(0,0,0,0.03) !important;
  cursor: pointer !important;
  user-select: none !important;
  transition: background .15s ease, color .15s ease, border-color .15s ease, box-shadow .15s ease;
  max-width: 100%;
}

/* Trim inner P tag margin and avoid wrapping chaos */
[data-testid="stRadio"] [role="radiogroup"] > label p,
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"] p{
  margin:0 !important; font-weight:500 !important; white-space:nowrap !important;
}

/* Hover state */
[data-testid="stRadio"] [role="radiogroup"] > label:hover,
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"]:hover{
  background: var(--pill-hover) !important;
}

/* Focus ring when navigating with keyboard */
[data-testid="stRadio"] [role="radiogroup"] > label:focus-within,
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"]:focus{
  box-shadow: var(--ring) !important; outline:none !important;
}

/* Selected pill: handle both ARIA and :has() */
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"][aria-checked="true"],
[data-testid="stRadio"] [role="radiogroup"] > label:has(> input[type="radio"]:checked){
  background: var(--pill-selected) !important;
  color: var(--pill-selected-text) !important;
  border-color: var(--pill-selected) !important;
}

/* Kill any leftover inner icon blobs Streamlit might render */
[data-testid="stRadio"] [role="radiogroup"] > label > div:first-child,
[data-testid="stRadio"] [role="radiogroup"] > div[role="radio"] > div:first-child{
  display:none !important;
}

/* Segmented control shell */
[data-testid="stSegmentedControl"] > div{
  background: var(--pill-bg) !important;
  border-radius: calc(var(--pill-radius) + 2px) !important;
  border: 1.5px solid var(--pill-brd) !important;
  padding: 4px !important;
}

/* Segmented buttons */
[data-testid="stSegmentedControl"] button{
  background: transparent !important;
  color: var(--pill-text) !important;
  border: none !important;
  border-radius: var(--pill-radius) !important;
  padding: var(--pill-pad-y) var(--pill-pad-x) !important;
  font-weight: 500 !important;
  transition: background .15s ease, color .15s ease;
}
[data-testid="stSegmentedControl"] button:hover{
  background: var(--pill-hover) !important;
}
[data-testid="stSegmentedControl"] button[aria-pressed="true"]{
  background: var(--pill-selected) !important;
  color: var(--pill-selected-text) !important;
}
[data-testid="stSegmentedControl"] button:focus-visible{
  box-shadow: var(--ring) !important; outline:none !important;
}

/* ---------- Welcome choice group helper (radio pills in a row) ---------- */
.welcome-choices [data-testid="stRadio"] [role="radiogroup"]{
  gap: 12px !important;
}

/* ---------- Tick bar (GCP progress dots) ---------- */
.tickbar{
  display:flex; gap:8px; align-items:center; margin: 8px 0 18px;
}
.tickbar .dot{
  width:10px; height:10px; border-radius:999px; background:#d1d5db;
}
.tickbar .dot.active{ background:#111827; }
.tickbar .dot.done{ background:#22c55e; }

/* ---------- “Row actions” two-column button bar ---------- */
.row-actions{
  display:flex; align-items:center; justify-content:space-between;
  gap: 12px; margin-top: 10px;
}
.row-actions .left, .row-actions .right{ display:flex; gap:10px; }

/* ---------- Navigation panel polish ---------- */
[data-testid="stSidebarNav"] ul{
  gap: 4px !important;
}
[data-testid="stSidebarNav"] li a{
  border-radius: 8px !important;
}
[data-testid="stSidebarNav"] li a:hover{
  background: #f3f4f6 !important;
}

/* ---------- Links ---------- */
a{ color: var(--accent-700); }
a:hover{ color: var(--accent-600); text-decoration: underline; }

/* ---------- Tables / Dataframes ---------- */
[data-testid="stTable"], [data-testid="stDataFrame"]{
  border-radius: 12px !important;
  border: 1px solid var(--border) !important;
  overflow: hidden !important;
}
